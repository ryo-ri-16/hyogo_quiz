<div class="quiz-container">
  <!-- ヘッダー -->
  <div class="question-header">
    <span class="question-number">
      問題 <%= session[:current_question_index] + 1 %> / <%= session[:question_ids].size %>
    </span>
    <% if @question.category.present? %>
      <span class="question-category"><%= @question.category.name %></span>
    <% end %>
  </div>

  <!-- 問題文 -->
  <div class="question-content">
    <h2 class="question-title"><%= @question.content %></h2>
    <!-- 画像 -->
    <% if @question.image.present? %>
      <div class="question-image-wrapper">
        <%= image_tag @question.image.url, class: 'question-image', alt: @question.content %>
      </div>
    <% end %>
  </div>

  <!-- 回答フォーム -->
  <%= form_with url: answer_questions_path, method: :post, local: true, data: { turbo: false }, class: 'answer-form' do |f| %>
    <div class="choices-container">
      <% @choices.each_with_index do |choice, index| %>
        <%= f.radio_button :choice_id, choice.id, id: "choice_#{choice.id}", class: 'choice-radio' %>
        <%= f.label "choice_#{choice.id}", class: 'choice-button' do %>
          <span class="choice-marker"><%= ('A'..'D').to_a[index] %></span>
          <span class="choice-text"><%= choice.content %></span>
        <% end %>
      <% end %>
    </div>

    <div class="submit-wrapper">
      <%= f.submit '回答する', class: 'btn btn-answer', data: { disable_with: "送信中..." } %>
    </div>
  <% end %>
</div>
